<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class=""> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Acompleter</title>
        <meta name="viewport" content="width=device-width">

        <link rel="stylesheet" href="css/normalize.css">
        <link rel="stylesheet" href="css/main.css">
        <link rel="stylesheet" href="css/demo.css">
        <link rel="stylesheet" href="highlight.js/styles/solarized_light.css">
    </head>
<body>
    <table class="content" cellpadding="0" cellspacing="0">
        <tbody>
            <tr id="intro-html">
                <td class="docs">
                    <div>
                        <div class="anchor">
                            <a href="#intro-html">¶</a> 
                        </div>
                        <p>
                        Во всех демо-примерах используется один и тот же HTML: один простой текстовый input.
                        Обратите внимание на атрибут <code>autocomplete="off"</code>. Если ваш инпут имеет популярное название типа <code>name</code>,
                        <code>city</code>, и т.д., то скорее всего браузер будет помнить ранее введённые значения для таких инпутов.
                        </p>
                    </div>
                </td>
                <td class="code">
                    HTML:
                    <pre><code class="html">
&lt;input type="text" autocomplete="off" /&gt;
                    </code></pre>
                </td>

            </tr>
            <tr id="intro-json">
                <td class="docs">
                    <div>
                        <div class="anchor">
                            <a href="#intro-json">¶</a> 
                        </div>

                        <p>
                        По-умолчанию подразумевается что данные имеют формат:
                        <pre><code>[ { value: string, data: any_obj }, ... ]</code></pre>
                        Я использую список живущих на Земле приматов в качестве <code>value</code> и их примерное количество в качестве <code>data</code>.
                        </p>
                    </div>
                </td>
                <td class="code">
                    DATA (data.json):
                    <pre><code class="json">
[{"value": "Hainan black crested gibbon", "data": "20"},
 {"value": "Eastern black crested gibbon", "data": "35 - 37"},
    ...
 {"value": "Human", "data": "7 000 000 000"}]
                    </code></pre>
                </td>

            </tr>
            <tr id="intro-css">
                <td class="docs">
                    <div>
                        <div class="anchor">
                            <a href="#intro-css">¶</a> 
                        </div>
                        <p>
                        Совсем без стилей список выглядит ужасно, так что минимальный CSS необходим.
                        </p>
                    </div>
                </td>
                <td class="code">
                    CSS:
                    <pre><code class="css">
.results { background: #eee; }
.results ul { list-style: none; padding: 0; margin: 0; }
.results ul li.current { background: #ccc; }
                    </code></pre>
                </td>

            </tr>
            <tr id="demo1">
                <td class="docs">
                    <div>
                        <div class="anchor">
                            <a href="#demo1">¶</a> 
                        </div>
                        <p><strong>demo #1</strong>. Минимум настроек.<br/>
                        Для работы плагину необходим url к файлу с данными.</p>
                        <input type="text" placeholder="type here..."/>
                    </div>
                </td>
                <td class="code">
                    JS:
                    <pre><code class="javascript">
$('#demo1 input').acompleter({
	url: "data.json"
});
                    </code></pre>
                </td>
            </tr>
            <tr id="demo2">
                <td class="docs">
                    <div>
                        <div class="anchor">
                            <a href="#demo2">¶</a> 
                        </div>
                        <p><strong>Demo #2</strong>. Данные в ином формате.<br/>
                        Входные данные преобразует функция <code>processData</code>.</p>
                        <input type="text" placeholder="type here..."/>
                    </div>
                </td>
                <td class="code">
                    JS:
                    <pre><code class="javascript">
$('#demo2 input').acompleter({
	url: "primates.json",
	processData: function( loadedData ) {
        return $.map( loadedData, function( result ) {
            return {
                value: result.name,
                data: result
            };
        });
    }
});
                    </code></pre>
                </td>
            </tr>
            <tr id="demo3">
                <td class="docs">
                    <div>
                        <div class="anchor">
                            <a href="#demo3">¶</a> 
                        </div>
                        <p><strong>Demo #3</strong>. Сортировка.<br/>
                        <code>sortResult</code> включает сортировку. <code>sortFunction</code> задаёт функцию сортировки.</p>
                        <input type="text" placeholder="type here..."/>
                    </div>
                </td>
                <td class="code">
                    JS:
                    <pre><code class="javascript">
$('#demo3 input').acompleter({
	url: "data.json",
    buildListItem: function(value, result) {
        return value + " — " + result.data + "";
    },
    sortResults: true,
    sortFunction: function(a, b, filter, opts) {
        var parse = function(x) { return parseInt(x.data.replace(/\s/, ""), 10); };
        return parse(b) - parse(a);
    }
});
                    </code></pre>
                </td>
            </tr>
        </tbody>
    </table>

    <script src="js/libs/jquery.min.js"></script>
    <script src="js/jquery.acompleter.js"></script>
    <script src="js/main.js"></script>
    <script src="highlight.js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
</body>
</html>

